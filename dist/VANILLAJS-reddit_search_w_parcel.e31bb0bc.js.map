{"version":3,"sources":["redditapi.js","index.js"],"names":["search","searchTerm","sortBy","searchLimit","console","log","fetch","then","response","json","data","children","map","catch","err","searchForm","document","getElementById","searchInput","addEventListener","event","value","querySelector","showMessage","reddit","results","output","forEach","post","image","preview","images","source","url","title","author","subreddit","score","innerHTML","preventDefault","message","className","div","createElement","appendChild","createTextNode","searchContainer","insertBefore","setTimeout","remove"],"mappings":"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","file":"VANILLAJS-reddit_search_w_parcel.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export default {\r\n  search: function (searchTerm, sortBy, searchLimit) {\r\n    console.log(\"searchLimit\", searchLimit);\r\n    return fetch(\r\n      `http://www.reddit.com/search.json?q=${searchTerm}&sort=${sortBy}&limit=${searchLimit}`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => data.data.children.map((data) => data.data))\r\n      .catch((err) => console.log(err));\r\n  },\r\n};\r\n","import reddit from \"./redditapi.js\";\r\nconst searchForm = document.getElementById(\"search-form\");\r\nconst searchInput = document.getElementById(\"search-input\");\r\n\r\nsearchForm.addEventListener(\"submit\", (event) => {\r\n  // get search input value\r\n  const searchTerm = searchInput.value;\r\n  console.log(searchTerm);\r\n  //get sort input value\r\n  const sortBy = document.querySelector('input[name=\"sortby\"]:checked').value;\r\n  console.log(sortBy);\r\n  // get limit\r\n  const searchLimit = document.getElementById(\"limit\").value;\r\n  console.log(searchLimit);\r\n\r\n  // check input\r\n  if (searchTerm === \"\") {\r\n    // show message\r\n    showMessage(\"Please add a search term\", \"alert-danger\");\r\n  }\r\n\r\n  // clear input\r\n  searchInput.value = \"\";\r\n\r\n  // search reddit\r\n  reddit.search(searchTerm, sortBy, searchLimit).then((results) => {\r\n    let output = `<div class=\"card-columns\">`;\r\n\r\n    // loop through posts\r\n    results.forEach((post) => {\r\n      let image = post.preview\r\n        ? post.preview.images[0].source.url\r\n        : \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\r\n      output += `\r\n        <div class=\"card\">\r\n          <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">${post.title}</h5>\r\n            <p class=\"card-text\">${post.author}</p>\r\n            <a href=\"${post.url}\" target=\"_blank\" class=\"btn btn-primary\">Read More</a>\r\n            <hr>\r\n            <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span>\r\n            <span class=\"badge badge-dark\">Score: ${post.score}</span>\r\n          </div>\r\n        </div>\r\n\r\n      \r\n      `;\r\n    });\r\n\r\n    output += \"</div>\";\r\n    document.getElementById(\"results\").innerHTML = output;\r\n  });\r\n\r\n  event.preventDefault();\r\n});\r\n\r\n// Show Message Function\r\nfunction showMessage(message, className) {\r\n  // Create div\r\n  const div = document.createElement(\"div\");\r\n  // Add classes\r\n  div.className = `alert ${className}`;\r\n  // Add text\r\n  div.appendChild(document.createTextNode(message));\r\n  // Get parent\r\n  const searchContainer = document.getElementById(\"search-container\");\r\n  // Get form\r\n  const search = document.getElementById(\"search\");\r\n\r\n  // Insert alert\r\n  searchContainer.insertBefore(div, search);\r\n\r\n  // Timeout after 3 sec\r\n  setTimeout(function () {\r\n    document.querySelector(\".alert\").remove();\r\n  }, 3000);\r\n}\r\n"]}